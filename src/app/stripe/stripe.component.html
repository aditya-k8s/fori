<form id="payment-form" #checkout="ngForm" (ngSubmit)="__checkout(checkout)">
  <div id="card-element">
    <!-- Elements will create input elements here -->
  </div>

  <!-- We'll put the error messages in this element -->
  <div id="card-errors" role="alert"></div>

  <button id="submit">Pay</button>
</form>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Stripe Sample</title>
    <meta name="description" content="A demo of Stripe Payment Intents" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="icon" href="favicon.ico" type="image/x-icon">
<!--     <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/global.css" />
    <script src="https://js.stripe.com/v3/"></script>
    <script src="/script.js" defer></script> -->
  </head>

  <body>
    <div class="sr-root">
      <div class="sr-main">
        <header class="sr-header">
          <div class="sr-header__logo"></div>
        </header>
        <div class="sr-payment-summary payment-view">
          <h1 class="order-amount">$14.00</h1>
          <h4>Purchase a Pasha photo</h4>
        </div> 



         <form id="checkout-form" #checkout="ngForm" [formGroup]="checkoutForm" (ngSubmit)="__checkout(checkout)" class="subscribe">

        <div class="card-section">
         <div class="each-card-section"  *ngFor="let card of cards;  let i-index">
           <input type="radio" [(ngModel)]="options" formControlName="exsiting_card" [value]="card.payment_menthod_id" (change)="onCardChange(card)">
           <!-- {{card.client_secret}} -->
           <!-- <input type="hidden" formControlName="clientsecret" [value]="card.client_secret"> -->
           <span>{{card.name}}</span>
           <div *ngIf="options">
             <input  type="text" required="required" formControlName="cardCvcElement">
            </div>
         </div>

        </div>

        <div class="sr-payment-form payment-view">
          <div class="sr-form-row">
            <label for="card-element">
              Payment details
            </label>
            <div class="sr-combo-inputs">
              <div class="sr-combo-inputs-row">
                <input
                  type="text"
                  id="name"
                  placeholder="Name"
                  autocomplete="cardholder"
                  class="sr-input"
                  formControlName="name"
                />
              </div>
              <div class="sr-combo-inputs-row">
                <div class="sr-input sr-card-element" id="card-element"></div>
              </div>
            </div>
            <div class="sr-field-error" id="card-errors" role="alert"></div>
            <div class="sr-form-row">
              <label ><input [ngModel]="isSavingCard" type="checkbox" id="save-card" formControlName="saveCard"> Save card for future payments</label>
            </div>
          </div>
          <button id="submit"><div class="spinner hidden" id="spinner"></div><span id="button-text">Pay</span></button>
          <div class="sr-legal-text">
            Your card will be charged $14.00.
          </div>
        </div>
   		</form>

       <div class="sr-combo-inputs-row">
                <div class="sr-input sr-card-element" id="cardcvc-element"></div>
              </div>

        <div class="sr-payment-summary hidden completed-view">
          <h1>Your payment <span class="status"></span></h1>
          <h4>
            View PaymentIntent response:
          </h4>
        </div>
        <div class="sr-section hidden completed-view">
          <div class="sr-callout">
            <pre>
  
            </pre>
          </div>
          <button onclick="window.location.href = '/';">Restart demo</button>
        </div>  
      </div>
      <div class="sr-content">
        <div class="pasha-image-stack">
          <img
            src="https://picsum.photos/280/320?random=1"
            width="140"
            height="160"
          />
          <img
            src="https://picsum.photos/280/320?random=2"
            width="140"
            height="160"
          />
          <img
            src="https://picsum.photos/280/320?random=3"
            width="140"
            height="160"
          />
          <img
            src="https://picsum.photos/280/320?random=4"
            width="140"
            height="160"
          />
        </div>
      </div>
    </div>
  </body>
</html>